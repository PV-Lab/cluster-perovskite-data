cluster-perovskite-data
===========

## Description

Clustering perovskite degradation data (sample colors vs. time) and plotting XRD for cluster centroids. This repository is a part of our article:

[article details come here]

## Description of Data

The data included in this repository is from our previous article: 

Shijing Sun, Armi Tiihonen, Felipe Oviedo, Zhe Liu, Janak Thapa, Yicheng Zhao, Noor Titan P. Hartono, Anuj Goyal, Thomas Heumueller, Clio Batali, Alex Encinas, Jason J. Yoo, Ruipeng Li, Zekun Ren, I. Marius Peters, Christoph J. Brabec, Moungi G. Bawendi, Vladan Stevanovic, John Fisher, Tonio Buonassisi, "A data fusion approach to optimize compositional stability of halide perovskites", Matter, 2021, https://doi.org/10.1016/j.matt.2021.01.008.

The data shared inside the "Data\Images" folder should be sufficient to reproduce the methods described in the manuscript. These data were obtained using an RGB camera observing perovskite ([MA-FA-Cs]PbI3) films within an environmental chamber (Version 1.0, as described in the manuscript) at MIT in 2019. Film compositions are described in the Matter paper referenced above. Raw data were converted into "calibrated" data using the reference color chart (also called "color card" or "color calibration tile"), as described in the Methods section of the manuscript. PDF files within "Raw" and "Calibrated" sub-folders show expected outputs when the code is running properly. Data shared inside "Data\XRD" are X-ray diffraction data (XRD) of the as-grown films, which were also presented in the Matter paper referenced below, and are formatted in 2 columns (.xy files) with theta (degrees) versus intensity (a.u.).

## Installation

$ git clone https://github.com/PV-Lab/cluster-perovskite-data.git
$ cd cluster-perovskite-data

TO DO add env file

## Description of the Code

The codes in this repo combine to reproduce Figure 3 (of the source article referenced above) from data contained within the "Data" folder.

- "Clustering_of_Camera_Image_Data.ipynb": This code applies a clustering algorithm (hierarchical clustering) to camera image data, and identifies the centroids. In this dataset, six centroids are identified (3 clusters with one compositional centroid and one "the most typical degradation curve" centroid in each); the precise number varies depending on the dataset. For each of the six centroids, the nearest film composition was identified. For each of these compositions, the XRD spectrum of the as-grown film was placed into the "Data\XRD" folder manually. NB: Each "camera image datum" is the entire camera time series for a given composition â€” capturing the film degradation in the environmental chamber as a function of time. (Films with different decay dynamics, as well as different starting and ending colors, are expected to cluster differently.)
- "Plotting_of_XRD_Patterns.ipynb": This code plots the representative (near cluster centroids) XRD spectra mentioned above, contained in "Data\XRD," and reproduces the plot shown in Figure X. Note that XRD intensity (y-axis) is in arbitrary units (e.g., depends on the X-ray flux generated by the filament, and/or distance between sample and detector), and therefore an intensity normalization is performed prior to plotting ("# Scale the data" section within the code).

## Versions

- 1.0 / Jun, 2022: Latest version

## Authors
||                    |
| ------------- | ------------------------------ |
| **AUTHORS**      | Armi Tiihonen, Shijing Sun | 
| **VERSION**      | 1.0 / June, 2022 | 
| **EMAILS**      | armi.tiihonen@gmail.com | 
||                    |

## Attribution

Please, acknowledge use of this work with the appropriate citation to the repository and research article.

## Citation

    @Misc{cluster-perovskite-data2022,
      author =   {The cluster-perovskite-data authors},
      title =    {{cluster-perovskite-data}: Clustering perovskite degradation data and plotting XRD for cluster centroids},
      howpublished = {\url{https://github.com/PV-Lab/cluster-perovskite-data}},
      year = {2022}
    }
    
    [Insert details of the open HW paper]
